{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Navigate,useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";function ProtectedRoute(_ref){let{children}=_ref;const[showAlert,setShowAlert]=useState(true);const user=localStorage.getItem(\"user\");const location=useLocation();useEffect(()=>{if(!user&&showAlert){alert(\"You are logged out. Please login first.\");setShowAlert(false);}},[user,showAlert]);if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",state:{from:location}});}return children;}export default ProtectedRoute;","map":{"version":3,"names":["React","useEffect","useState","Navigate","useLocation","jsx","_jsx","ProtectedRoute","_ref","children","showAlert","setShowAlert","user","localStorage","getItem","location","alert","to","state","from"],"sources":["C:/Users/kurub/LibraryReservationSystem/frontend/src/components/ProtectedRoute.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Navigate, useLocation } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ children }) {\r\n  const [showAlert, setShowAlert] = useState(true);\r\n  const user = localStorage.getItem(\"user\");\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    if (!user && showAlert) {\r\n      alert(\"You are logged out. Please login first.\");\r\n      setShowAlert(false);\r\n    }\r\n  }, [user, showAlert]);\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/\" state={{ from: location }} />;\r\n  }\r\n\r\n  return children;\r\n}\r\n\r\nexport default ProtectedRoute;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzD,QAAS,CAAAC,cAAcA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAClC,KAAM,CAACE,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAAAU,IAAI,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CACzC,KAAM,CAAAC,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9BH,SAAS,CAAC,IAAM,CACd,GAAI,CAACW,IAAI,EAAIF,SAAS,CAAE,CACtBM,KAAK,CAAC,yCAAyC,CAAC,CAChDL,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAAE,CAACC,IAAI,CAAEF,SAAS,CAAC,CAAC,CAErB,GAAI,CAACE,IAAI,CAAE,CACT,mBAAON,IAAA,CAACH,QAAQ,EAACc,EAAE,CAAC,GAAG,CAACC,KAAK,CAAE,CAAEC,IAAI,CAAEJ,QAAS,CAAE,CAAE,CAAC,CACvD,CAEA,MAAO,CAAAN,QAAQ,CACjB,CAEA,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}